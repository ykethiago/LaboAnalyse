{% extends 'base.html.twig' %}

{% block title %}Profile patient!
{% endblock %}

{% block container %}
	<nav class="navbar navbar-expand-lg bg-color fixed-top" style="background-color: #007bff;">
		<div class="container-fluid d-flex justify-content-between align-items-center">
			<div>
				<a class="navbar-brand"href="{{path('app_home')}}">
					<img src="{{ asset('images/Labo-logo.png') }}" width="100px">
				</a>
			</div>
			<h1 style="color: white; text-transform: uppercase; font-size: 2em; font-family: 'Kdam Thmor Pro', sans-serif;">Laboratoire médicale</h1>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse" id="navbarNav">
				<ul class="navbar-nav ms-auto">
					<li class="nav-item">
						<a class="nav-link text-uppercase {{ app.request.get('_route') == 'app_home' ? 'active' : '' }}" href="#1" style="color: white; margin-right:1em; font-size: 1em;">
							<i class="bi bi-person-circle"></i>
							{{ user.username }}
						</a>
					</li>
				</ul>
			</div>
		</div>
	</nav>

	<section style="margin-top: 100px;">
		<div class="d-flex align-items-start">
			<div class="nav flex-column nav-pills me-3" id="v-pills-tab" role="tablist" aria-orientation="vertical">
				<button class="nav-link active" id="v-pills-home-tab" data-bs-toggle="pill" data-bs-target="#v-pills-home" type="button" role="tab" aria-controls="v-pills-home" aria-selected="true">Home</button>
				<button class="nav-link" id="v-pills-profile-tab" data-bs-toggle="pill" data-bs-target="#v-pills-profile" type="button" role="tab" aria-controls="v-pills-profile" aria-selected="false">Profile</button>
				<button class="nav-link" id="v-pills-disabled-tab" data-bs-toggle="pill" data-bs-target="#v-pills-disabled" type="button" role="tab" aria-controls="v-pills-disabled" aria-selected="false">Disabled</button>
				<button class="nav-link" id="v-pills-messages-tab" data-bs-toggle="pill" data-bs-target="#v-pills-messages" type="button" role="tab" aria-controls="v-pills-messages" aria-selected="false">Messages</button>
				<button class="nav-link" id="v-pills-settings-tab" data-bs-toggle="pill" data-bs-target="#v-pills-settings" type="button" role="tab" aria-controls="v-pills-settings" aria-selected="false">Settings</button>
			</div>

			<div class="tab-content" id="v-pills-tabContent">
				<div class="tab-pane fade show active" id="v-pills-home" role="tabpanel" aria-labelledby="v-pills-home-tab" tabindex="0">
					<section id="1">
						<div class="container-fluid">
							<div class="row">
								<div class="col-12" style="background: linear-gradient(rgba(0,0,0,0.25), rgba(0,0,0,0.1)), url('{{ asset('images/image1.webp') }}') no-repeat center/cover; height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; width: 200vh;">
									<div style="text-align: center; color: white;">
										<h1 style="font-size: 3em; color: #007bff;">SOINS MÉDICAUX SANS RDV</h1>
										<h3 style="font-size: 1.5em; color: #0056b3;">POUR ADULTES ET ENFANTS</h3>
										<p style="color: #003366;">Lundi - Samedi : 7h00 - 19h30</p>
										<p style="color: #00284d;">Dimanche : 7h00 - 16h30</p>
									</div>
									<div>
										<a href={{path('app_rendez_vous')}} style="display: inline-block; background-color: #007bff; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">Réserver</a>
									</div>
								</div>
							</div>
						</div>
					</section>
				</div>
				<div class="tab-pane fade" id="v-pills-profile" role="tabpanel" aria-labelledby="v-pills-profile-tab" tabindex="0">
					<h2>Liste des Rendez-vous</h2>

					<table class="table">
						<thead>
							<tr>
								<th>Date</th>
								<th>Status</th>
								<th>Patient</th>
								<th>Motif</th>
							</tr>
						</thead>
						<tbody>
						{% if donnees is not empty %}
							{% for item in donnees %}
								<tr>
									<td>{{ item.dateRV|date('Y-m-d H:i:s') }}</td>
									<td>{{ item.status }}</td>
									<td>{{ item.patient }}</td>
									<td>{{ item.motif }}</td>
								</tr>
							{% endfor %}
						{% else %}
							{# Handle the case where 'donnees' is empty #}
							<tr>
								<td colspan="3">No data available</td>
							</tr>
						{% endif %}
						</tbody>

					</table>
				</div>
				<div class="tab-pane fade" id="v-pills-disabled" role="tabpanel" aria-labelledby="v-pills-disabled-tab" tabindex="0">dETAIL</div>
				<div class="tab-pane fade" id="v-pills-messages" role="tabpanel" aria-labelledby="v-pills-messages-tab" tabindex="0">mESSAGE</div>
				<div class="tab-pane fade" id="v-pills-settings" role="tabpanel" aria-labelledby="v-pills-settings-tab" tabindex="0">SETTING</div>
			</div>
		</div>
	</section>
{% endblock %}
